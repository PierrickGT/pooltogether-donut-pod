{
  "fileName": "ExchangeRateTracker.sol",
  "contractName": "ExchangeRateTracker",
  "source": "/**\nCopyright 2020 PoolTogether Inc.\n\nThis file is part of PoolTogether.\n\nPoolTogether is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation under version 3 of the License.\n\nPoolTogether is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with PoolTogether.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\npragma solidity 0.5.12;\n\nimport \"./FixedPoint.sol\";\n\n/**\n * @author Brendan Asselstine\n * @notice Tracks exchange rate history for a token and it's backing collateral.\n *\n * Users can query the historic exchange rate using a timestamp in O(log(n)) time.\n */\nlibrary ExchangeRateTracker {\n\n  /**\n   * The struct for a single exchange rate in time\n   */\n  struct ExchangeRate {\n    uint256 timestamp;\n    FixedPoint.Fixed18 exchangeRate;\n  }\n\n  /**\n   * The struct that contains the complete history of rates.  This library should be attached to this struct.\n   */\n  struct State {\n    ExchangeRate[] exchangeRates;\n  }\n\n  /**\n   * Initializes the data structure.\n   *\n   * @param self The State struct\n   * @param baseExchangeRateMantissa The starting exchange rate for the token\n   */\n  function initialize(State storage self, uint256 baseExchangeRateMantissa) internal {\n    require(baseExchangeRateMantissa > 0, \"ExchangeRateTracker/non-zero\");\n    self.exchangeRates.length = 0;\n    self.exchangeRates.push(ExchangeRate(0, FixedPoint.Fixed18(baseExchangeRateMantissa)));\n  }\n\n  /**\n   * Add a new exchange rate to the history.\n   *\n   * The exchange rate is added by declaring the token supply, amount of collateral and timestamp.\n   * The timestamp must be strictly greater than or equal to the last timestamp to ensure correct ordering.\n   *\n   * @param self The State struct\n   * @param tokens The new token supply\n   * @param collateral The amount of backing collateral\n   * @param timestamp The time at which the change occurred\n   * @return The new exchange rate mantissa\n   */\n  function collateralizationChanged(\n    State storage self,\n    uint256 tokens,\n    uint256 collateral,\n    uint256 timestamp\n  ) internal returns (uint256) {\n    wasInitialized(self);\n    require(self.exchangeRates[self.exchangeRates.length - 1].timestamp <= timestamp, \"ExchangeRateTracker/too-early\");\n    FixedPoint.Fixed18 memory rate = FixedPoint.Fixed18(FixedPoint.calculateMantissa(tokens, collateral));\n    self.exchangeRates.push(ExchangeRate(timestamp, rate));\n    return rate.mantissa;\n  }\n\n  /**\n   * Calculates the current collateral value of the given token amount.\n   *\n   * @param self The State struct\n   * @param tokens The token amount\n   * @return The collateral value of the tokens\n   */\n  function tokenToCollateralValue(State storage self, uint256 tokens) internal view returns (uint256) {\n    return FixedPoint.divideUintByFixed(tokens, currentExchangeRate(self));\n  }\n\n  /**\n   * Calculates the current token value of the given collateral amount\n   *\n   * @param self The State struct\n   * @param collateral The collateral amount\n   * @return The token value of the collateral\n   */\n  function collateralToTokenValue(State storage self, uint256 collateral) internal view returns (uint256) {\n    return FixedPoint.multiplyUint(currentExchangeRate(self), collateral);\n  }\n\n  /**\n   * Calculates the collateral value of the given token amount in the past.\n   *\n   * @param self The State struct\n   * @param tokens The token amount\n   * @param timestamp The timestamp of the rate to use for conversion\n   * @return The collateral value of the given tokens at the given timestamp\n   */\n  function tokenToCollateralValueAt(State storage self, uint256 tokens, uint256 timestamp) internal view returns (uint256) {\n    uint256 exchangeRateIndex = search(self, timestamp);\n    return FixedPoint.divideUintByFixed(tokens, self.exchangeRates[exchangeRateIndex].exchangeRate);\n  }\n\n  /**\n   * Calculates the token value of the given collateral amount in the past.\n   *\n   * @param self The State struct\n   * @param collateral The collateral amount\n   * @param timestamp The timestamp of the rate to use for conversion\n   * @return The token value of the given collateral at the given timestamp\n   */\n  function collateralToTokenValueAt(State storage self, uint256 collateral, uint256 timestamp) internal view returns (uint256) {\n    uint256 exchangeRateIndex = search(self, timestamp);\n    return FixedPoint.multiplyUint(self.exchangeRates[exchangeRateIndex].exchangeRate, collateral);\n  }\n\n  /**\n   * Returns the current exchange rate mantissa as a fixed point 18 number (ie Ether).\n   *\n   * For example, an exchange rate of 0.5 would be represented as 500000000000000000\n   *\n   * @param self The State struct\n   * @return The current exchange rate mantissa\n   */\n  function currentExchangeRateMantissa(State storage self) internal view returns (uint256) {\n     wasInitialized(self);\n    return self.exchangeRates[self.exchangeRates.length - 1].exchangeRate.mantissa;\n  }\n\n  /**\n   * Returns the current exchange rate as a FixedPoint.Fixed18 struct\n   *\n   * @param self The State struct\n   * @return The current exchange rate as a FixedPoint.Fixed18 struct\n   */\n  function currentExchangeRate(State storage self) internal view returns (FixedPoint.Fixed18 storage) {\n    wasInitialized(self);\n    return self.exchangeRates[self.exchangeRates.length - 1].exchangeRate;\n  }\n\n  /**\n   * Searches for the historic exchange rate at the given timestamp.\n   *\n   * The algorithm will return the index of the *last* exchange rate whose timestamp is less than or equal to the given timestamp.\n   *\n   * @param self The State struct\n   * @param timestamp The timestamp to search for\n   * @return The index of the exchange rate that was in effect at the given timestamp\n   */\n  function search(State storage self, uint256 timestamp) internal view returns (uint256) {\n    wasInitialized(self);\n\n    uint256 lowerBound = 0;\n    uint256 upperBound = self.exchangeRates.length;\n\n    while (lowerBound < upperBound - 1) {\n        uint256 midPoint = lowerBound + (upperBound - lowerBound) / 2;\n\n        if (timestamp < self.exchangeRates[midPoint].timestamp) {\n          upperBound = midPoint;\n        } else {\n          lowerBound = midPoint;\n        }\n    }\n\n    return upperBound - 1;\n  }\n\n  function wasInitialized(State storage self) internal view {\n    require(self.exchangeRates.length > 0, \"ExchangeRateTracker/not-init\");\n  }\n}\n",
  "sourcePath": "@pooltogether/pods/contracts/ExchangeRateTracker.sol",
  "sourceMap": "908:5766:15:-;;132:2:-1;166:7;155:9;146:7;137:37;255:7;249:14;246:1;241:23;235:4;232:33;222:2;;269:9;222:2;293:9;290:1;283:20;323:4;314:7;306:22;347:7;338;331:24",
  "deployedSourceMap": "908:5766:15:-;;;;;;;;",
  "abi": [],
  "ast": {
    "absolutePath": "@pooltogether/pods/contracts/ExchangeRateTracker.sol",
    "exportedSymbols": {
      "ExchangeRateTracker": [
        3380
      ]
    },
    "id": 3381,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 3054,
        "literals": [
          "solidity",
          "0.5",
          ".12"
        ],
        "nodeType": "PragmaDirective",
        "src": "650:23:15"
      },
      {
        "absolutePath": "@pooltogether/pods/contracts/FixedPoint.sol",
        "file": "./FixedPoint.sol",
        "id": 3055,
        "nodeType": "ImportDirective",
        "scope": 3381,
        "sourceUnit": 3489,
        "src": "675:26:15",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "library",
        "documentation": "@author Brendan Asselstine\n@notice Tracks exchange rate history for a token and it's backing collateral.\n * Users can query the historic exchange rate using a timestamp in O(log(n)) time.",
        "fullyImplemented": true,
        "id": 3380,
        "linearizedBaseContracts": [
          3380
        ],
        "name": "ExchangeRateTracker",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "canonicalName": "ExchangeRateTracker.ExchangeRate",
            "id": 3060,
            "members": [
              {
                "constant": false,
                "id": 3057,
                "name": "timestamp",
                "nodeType": "VariableDeclaration",
                "scope": 3060,
                "src": "1030:17:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 3056,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1030:7:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "value": null,
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3059,
                "name": "exchangeRate",
                "nodeType": "VariableDeclaration",
                "scope": 3060,
                "src": "1053:31:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_struct$_Fixed18_$3392_storage_ptr",
                  "typeString": "struct FixedPoint.Fixed18"
                },
                "typeName": {
                  "contractScope": null,
                  "id": 3058,
                  "name": "FixedPoint.Fixed18",
                  "nodeType": "UserDefinedTypeName",
                  "referencedDeclaration": 3392,
                  "src": "1053:18:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Fixed18_$3392_storage_ptr",
                    "typeString": "struct FixedPoint.Fixed18"
                  }
                },
                "value": null,
                "visibility": "internal"
              }
            ],
            "name": "ExchangeRate",
            "nodeType": "StructDefinition",
            "scope": 3380,
            "src": "1004:85:15",
            "visibility": "public"
          },
          {
            "canonicalName": "ExchangeRateTracker.State",
            "id": 3064,
            "members": [
              {
                "constant": false,
                "id": 3063,
                "name": "exchangeRates",
                "nodeType": "VariableDeclaration",
                "scope": 3064,
                "src": "1234:28:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage_ptr",
                  "typeString": "struct ExchangeRateTracker.ExchangeRate[]"
                },
                "typeName": {
                  "baseType": {
                    "contractScope": null,
                    "id": 3061,
                    "name": "ExchangeRate",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3060,
                    "src": "1234:12:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_ExchangeRate_$3060_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.ExchangeRate"
                    }
                  },
                  "id": 3062,
                  "length": null,
                  "nodeType": "ArrayTypeName",
                  "src": "1234:14:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.ExchangeRate[]"
                  }
                },
                "value": null,
                "visibility": "internal"
              }
            ],
            "name": "State",
            "nodeType": "StructDefinition",
            "scope": 3380,
            "src": "1215:52:15",
            "visibility": "public"
          },
          {
            "body": {
              "id": 3100,
              "nodeType": "Block",
              "src": "1520:207:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 3074,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "id": 3072,
                          "name": "baseExchangeRateMantissa",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3068,
                          "src": "1534:24:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": ">",
                        "rightExpression": {
                          "argumentTypes": null,
                          "hexValue": "30",
                          "id": 3073,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "1561:1:15",
                          "subdenomination": null,
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          },
                          "value": "0"
                        },
                        "src": "1534:28:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "45786368616e676552617465547261636b65722f6e6f6e2d7a65726f",
                        "id": 3075,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1564:30:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_2cf355e6e72515bbcff3e3fed79504adb0771bd8f85521d559af8da73c2a03d7",
                          "typeString": "literal_string \"ExchangeRateTracker/non-zero\""
                        },
                        "value": "ExchangeRateTracker/non-zero"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_2cf355e6e72515bbcff3e3fed79504adb0771bd8f85521d559af8da73c2a03d7",
                          "typeString": "literal_string \"ExchangeRateTracker/non-zero\""
                        }
                      ],
                      "id": 3071,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        11769,
                        11770
                      ],
                      "referencedDeclaration": 11770,
                      "src": "1526:7:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3076,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1526:69:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3077,
                  "nodeType": "ExpressionStatement",
                  "src": "1526:69:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 3084,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3078,
                          "name": "self",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3066,
                          "src": "1601:4:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                            "typeString": "struct ExchangeRateTracker.State storage pointer"
                          }
                        },
                        "id": 3081,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "exchangeRates",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3063,
                        "src": "1601:18:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                          "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                        }
                      },
                      "id": 3082,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "length",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "1601:25:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "hexValue": "30",
                      "id": 3083,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "1629:1:15",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "1601:29:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3085,
                  "nodeType": "ExpressionStatement",
                  "src": "1601:29:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 3092,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "1673:1:15",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "id": 3095,
                                "name": "baseExchangeRateMantissa",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3068,
                                "src": "1695:24:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "expression": {
                                "argumentTypes": null,
                                "id": 3093,
                                "name": "FixedPoint",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3488,
                                "src": "1676:10:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_contract$_FixedPoint_$3488_$",
                                  "typeString": "type(library FixedPoint)"
                                }
                              },
                              "id": 3094,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "Fixed18",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 3392,
                              "src": "1676:18:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_struct$_Fixed18_$3392_storage_ptr_$",
                                "typeString": "type(struct FixedPoint.Fixed18 storage pointer)"
                              }
                            },
                            "id": 3096,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "structConstructorCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "1676:44:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Fixed18_$3392_memory",
                              "typeString": "struct FixedPoint.Fixed18 memory"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            {
                              "typeIdentifier": "t_struct$_Fixed18_$3392_memory",
                              "typeString": "struct FixedPoint.Fixed18 memory"
                            }
                          ],
                          "id": 3091,
                          "name": "ExchangeRate",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3060,
                          "src": "1660:12:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_struct$_ExchangeRate_$3060_storage_ptr_$",
                            "typeString": "type(struct ExchangeRateTracker.ExchangeRate storage pointer)"
                          }
                        },
                        "id": 3097,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "structConstructorCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1660:61:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_ExchangeRate_$3060_memory",
                          "typeString": "struct ExchangeRateTracker.ExchangeRate memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_ExchangeRate_$3060_memory",
                          "typeString": "struct ExchangeRateTracker.ExchangeRate memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3086,
                          "name": "self",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3066,
                          "src": "1636:4:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                            "typeString": "struct ExchangeRateTracker.State storage pointer"
                          }
                        },
                        "id": 3089,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "exchangeRates",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3063,
                        "src": "1636:18:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                          "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                        }
                      },
                      "id": 3090,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "push",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "1636:23:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_arraypush_nonpayable$_t_struct$_ExchangeRate_$3060_storage_$returns$_t_uint256_$",
                        "typeString": "function (struct ExchangeRateTracker.ExchangeRate storage ref) returns (uint256)"
                      }
                    },
                    "id": 3098,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1636:86:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3099,
                  "nodeType": "ExpressionStatement",
                  "src": "1636:86:15"
                }
              ]
            },
            "documentation": "Initializes the data structure.\n   * @param self The State struct\n@param baseExchangeRateMantissa The starting exchange rate for the token",
            "id": 3101,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "initialize",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3069,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3066,
                  "name": "self",
                  "nodeType": "VariableDeclaration",
                  "scope": 3101,
                  "src": "1457:18:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.State"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3065,
                    "name": "State",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3064,
                    "src": "1457:5:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.State"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3068,
                  "name": "baseExchangeRateMantissa",
                  "nodeType": "VariableDeclaration",
                  "scope": 3101,
                  "src": "1477:32:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3067,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1477:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1456:54:15"
            },
            "returnParameters": {
              "id": 3070,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1520:0:15"
            },
            "scope": 3380,
            "src": "1437:290:15",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3160,
              "nodeType": "Block",
              "src": "2395:344:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3115,
                        "name": "self",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3103,
                        "src": "2416:4:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      ],
                      "id": 3114,
                      "name": "wasInitialized",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3379,
                      "src": "2401:14:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_struct$_State_$3064_storage_ptr_$returns$__$",
                        "typeString": "function (struct ExchangeRateTracker.State storage pointer) view"
                      }
                    },
                    "id": 3116,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2401:20:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3117,
                  "nodeType": "ExpressionStatement",
                  "src": "2401:20:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 3129,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 3119,
                                "name": "self",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3103,
                                "src": "2435:4:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                                  "typeString": "struct ExchangeRateTracker.State storage pointer"
                                }
                              },
                              "id": 3120,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "exchangeRates",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 3063,
                              "src": "2435:18:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                                "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                              }
                            },
                            "id": 3126,
                            "indexExpression": {
                              "argumentTypes": null,
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 3125,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "argumentTypes": null,
                                "expression": {
                                  "argumentTypes": null,
                                  "expression": {
                                    "argumentTypes": null,
                                    "id": 3121,
                                    "name": "self",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 3103,
                                    "src": "2454:4:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                                      "typeString": "struct ExchangeRateTracker.State storage pointer"
                                    }
                                  },
                                  "id": 3122,
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "memberName": "exchangeRates",
                                  "nodeType": "MemberAccess",
                                  "referencedDeclaration": 3063,
                                  "src": "2454:18:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                                    "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                                  }
                                },
                                "id": 3123,
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "memberName": "length",
                                "nodeType": "MemberAccess",
                                "referencedDeclaration": null,
                                "src": "2454:25:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "-",
                              "rightExpression": {
                                "argumentTypes": null,
                                "hexValue": "31",
                                "id": 3124,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "number",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "2482:1:15",
                                "subdenomination": null,
                                "typeDescriptions": {
                                  "typeIdentifier": "t_rational_1_by_1",
                                  "typeString": "int_const 1"
                                },
                                "value": "1"
                              },
                              "src": "2454:29:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "IndexAccess",
                            "src": "2435:49:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_ExchangeRate_$3060_storage",
                              "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref"
                            }
                          },
                          "id": 3127,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "timestamp",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 3057,
                          "src": "2435:59:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "<=",
                        "rightExpression": {
                          "argumentTypes": null,
                          "id": 3128,
                          "name": "timestamp",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3109,
                          "src": "2498:9:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "2435:72:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "45786368616e676552617465547261636b65722f746f6f2d6561726c79",
                        "id": 3130,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2509:31:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_894f1bc000b6c102316cde2e7d121c610a2d8729a652445c24f838edee49ad2a",
                          "typeString": "literal_string \"ExchangeRateTracker/too-early\""
                        },
                        "value": "ExchangeRateTracker/too-early"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_894f1bc000b6c102316cde2e7d121c610a2d8729a652445c24f838edee49ad2a",
                          "typeString": "literal_string \"ExchangeRateTracker/too-early\""
                        }
                      ],
                      "id": 3118,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        11769,
                        11770
                      ],
                      "referencedDeclaration": 11770,
                      "src": "2427:7:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3131,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2427:114:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3132,
                  "nodeType": "ExpressionStatement",
                  "src": "2427:114:15"
                },
                {
                  "assignments": [
                    3136
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3136,
                      "name": "rate",
                      "nodeType": "VariableDeclaration",
                      "scope": 3160,
                      "src": "2547:30:15",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Fixed18_$3392_memory_ptr",
                        "typeString": "struct FixedPoint.Fixed18"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 3135,
                        "name": "FixedPoint.Fixed18",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 3392,
                        "src": "2547:18:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Fixed18_$3392_storage_ptr",
                          "typeString": "struct FixedPoint.Fixed18"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3145,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 3141,
                            "name": "tokens",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3105,
                            "src": "2628:6:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "id": 3142,
                            "name": "collateral",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3107,
                            "src": "2636:10:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 3139,
                            "name": "FixedPoint",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3488,
                            "src": "2599:10:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_contract$_FixedPoint_$3488_$",
                              "typeString": "type(library FixedPoint)"
                            }
                          },
                          "id": 3140,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "calculateMantissa",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 3418,
                          "src": "2599:28:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_delegatecall_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$",
                            "typeString": "function (uint256,uint256) pure returns (uint256)"
                          }
                        },
                        "id": 3143,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2599:48:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3137,
                        "name": "FixedPoint",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3488,
                        "src": "2580:10:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_FixedPoint_$3488_$",
                          "typeString": "type(library FixedPoint)"
                        }
                      },
                      "id": 3138,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "Fixed18",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3392,
                      "src": "2580:18:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_type$_t_struct$_Fixed18_$3392_storage_ptr_$",
                        "typeString": "type(struct FixedPoint.Fixed18 storage pointer)"
                      }
                    },
                    "id": 3144,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "structConstructorCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2580:68:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Fixed18_$3392_memory",
                      "typeString": "struct FixedPoint.Fixed18 memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2547:101:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 3152,
                            "name": "timestamp",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3109,
                            "src": "2691:9:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "id": 3153,
                            "name": "rate",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3136,
                            "src": "2702:4:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Fixed18_$3392_memory_ptr",
                              "typeString": "struct FixedPoint.Fixed18 memory"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            {
                              "typeIdentifier": "t_struct$_Fixed18_$3392_memory_ptr",
                              "typeString": "struct FixedPoint.Fixed18 memory"
                            }
                          ],
                          "id": 3151,
                          "name": "ExchangeRate",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3060,
                          "src": "2678:12:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_struct$_ExchangeRate_$3060_storage_ptr_$",
                            "typeString": "type(struct ExchangeRateTracker.ExchangeRate storage pointer)"
                          }
                        },
                        "id": 3154,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "structConstructorCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2678:29:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_ExchangeRate_$3060_memory",
                          "typeString": "struct ExchangeRateTracker.ExchangeRate memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_ExchangeRate_$3060_memory",
                          "typeString": "struct ExchangeRateTracker.ExchangeRate memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3146,
                          "name": "self",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3103,
                          "src": "2654:4:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                            "typeString": "struct ExchangeRateTracker.State storage pointer"
                          }
                        },
                        "id": 3149,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "exchangeRates",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3063,
                        "src": "2654:18:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                          "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                        }
                      },
                      "id": 3150,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "push",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "2654:23:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_arraypush_nonpayable$_t_struct$_ExchangeRate_$3060_storage_$returns$_t_uint256_$",
                        "typeString": "function (struct ExchangeRateTracker.ExchangeRate storage ref) returns (uint256)"
                      }
                    },
                    "id": 3155,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2654:54:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3156,
                  "nodeType": "ExpressionStatement",
                  "src": "2654:54:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "id": 3157,
                      "name": "rate",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3136,
                      "src": "2721:4:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Fixed18_$3392_memory_ptr",
                        "typeString": "struct FixedPoint.Fixed18 memory"
                      }
                    },
                    "id": 3158,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "mantissa",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3391,
                    "src": "2721:13:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 3113,
                  "id": 3159,
                  "nodeType": "Return",
                  "src": "2714:20:15"
                }
              ]
            },
            "documentation": "Add a new exchange rate to the history.\n   * The exchange rate is added by declaring the token supply, amount of collateral and timestamp.\nThe timestamp must be strictly greater than or equal to the last timestamp to ensure correct ordering.\n   * @param self The State struct\n@param tokens The new token supply\n@param collateral The amount of backing collateral\n@param timestamp The time at which the change occurred\n@return The new exchange rate mantissa",
            "id": 3161,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "collateralizationChanged",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3110,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3103,
                  "name": "self",
                  "nodeType": "VariableDeclaration",
                  "scope": 3161,
                  "src": "2278:18:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.State"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3102,
                    "name": "State",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3064,
                    "src": "2278:5:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.State"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3105,
                  "name": "tokens",
                  "nodeType": "VariableDeclaration",
                  "scope": 3161,
                  "src": "2302:14:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3104,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2302:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3107,
                  "name": "collateral",
                  "nodeType": "VariableDeclaration",
                  "scope": 3161,
                  "src": "2322:18:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3106,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2322:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3109,
                  "name": "timestamp",
                  "nodeType": "VariableDeclaration",
                  "scope": 3161,
                  "src": "2346:17:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3108,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2346:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2272:95:15"
            },
            "returnParameters": {
              "id": 3113,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3112,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3161,
                  "src": "2386:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3111,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2386:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2385:9:15"
            },
            "scope": 3380,
            "src": "2239:500:15",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3178,
              "nodeType": "Block",
              "src": "3050:81:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3172,
                        "name": "tokens",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3165,
                        "src": "3092:6:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 3174,
                            "name": "self",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3163,
                            "src": "3120:4:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                              "typeString": "struct ExchangeRateTracker.State storage pointer"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                              "typeString": "struct ExchangeRateTracker.State storage pointer"
                            }
                          ],
                          "id": 3173,
                          "name": "currentExchangeRate",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "3100:19:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_view$_t_struct$_State_$3064_storage_ptr_$returns$_t_struct$_Fixed18_$3392_storage_ptr_$",
                            "typeString": "function (struct ExchangeRateTracker.State storage pointer) view returns (struct FixedPoint.Fixed18 storage pointer)"
                          }
                        },
                        "id": 3175,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "3100:25:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Fixed18_$3392_storage_ptr",
                          "typeString": "struct FixedPoint.Fixed18 storage pointer"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_struct$_Fixed18_$3392_storage_ptr",
                          "typeString": "struct FixedPoint.Fixed18 storage pointer"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3170,
                        "name": "FixedPoint",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3488,
                        "src": "3063:10:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_FixedPoint_$3488_$",
                          "typeString": "type(library FixedPoint)"
                        }
                      },
                      "id": 3171,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "divideUintByFixed",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3461,
                      "src": "3063:28:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_delegatecall_view$_t_uint256_$_t_struct$_Fixed18_$3392_storage_ptr_$returns$_t_uint256_$",
                        "typeString": "function (uint256,struct FixedPoint.Fixed18 storage pointer) view returns (uint256)"
                      }
                    },
                    "id": 3176,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3063:63:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 3169,
                  "id": 3177,
                  "nodeType": "Return",
                  "src": "3056:70:15"
                }
              ]
            },
            "documentation": "Calculates the current collateral value of the given token amount.\n   * @param self The State struct\n@param tokens The token amount\n@return The collateral value of the tokens",
            "id": 3179,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "tokenToCollateralValue",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3166,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3163,
                  "name": "self",
                  "nodeType": "VariableDeclaration",
                  "scope": 3179,
                  "src": "2982:18:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.State"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3162,
                    "name": "State",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3064,
                    "src": "2982:5:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.State"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3165,
                  "name": "tokens",
                  "nodeType": "VariableDeclaration",
                  "scope": 3179,
                  "src": "3002:14:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3164,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3002:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2981:36:15"
            },
            "returnParameters": {
              "id": 3169,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3168,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3179,
                  "src": "3041:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3167,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3041:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3040:9:15"
            },
            "scope": 3380,
            "src": "2950:181:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3196,
              "nodeType": "Block",
              "src": "3453:80:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 3191,
                            "name": "self",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3181,
                            "src": "3510:4:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                              "typeString": "struct ExchangeRateTracker.State storage pointer"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                              "typeString": "struct ExchangeRateTracker.State storage pointer"
                            }
                          ],
                          "id": 3190,
                          "name": "currentExchangeRate",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "3490:19:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_view$_t_struct$_State_$3064_storage_ptr_$returns$_t_struct$_Fixed18_$3392_storage_ptr_$",
                            "typeString": "function (struct ExchangeRateTracker.State storage pointer) view returns (struct FixedPoint.Fixed18 storage pointer)"
                          }
                        },
                        "id": 3192,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "3490:25:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Fixed18_$3392_storage_ptr",
                          "typeString": "struct FixedPoint.Fixed18 storage pointer"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 3193,
                        "name": "collateral",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3183,
                        "src": "3517:10:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Fixed18_$3392_storage_ptr",
                          "typeString": "struct FixedPoint.Fixed18 storage pointer"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3188,
                        "name": "FixedPoint",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3488,
                        "src": "3466:10:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_FixedPoint_$3488_$",
                          "typeString": "type(library FixedPoint)"
                        }
                      },
                      "id": 3189,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "multiplyUint",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3445,
                      "src": "3466:23:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_delegatecall_view$_t_struct$_Fixed18_$3392_storage_ptr_$_t_uint256_$returns$_t_uint256_$",
                        "typeString": "function (struct FixedPoint.Fixed18 storage pointer,uint256) view returns (uint256)"
                      }
                    },
                    "id": 3194,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3466:62:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 3187,
                  "id": 3195,
                  "nodeType": "Return",
                  "src": "3459:69:15"
                }
              ]
            },
            "documentation": "Calculates the current token value of the given collateral amount\n   * @param self The State struct\n@param collateral The collateral amount\n@return The token value of the collateral",
            "id": 3197,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "collateralToTokenValue",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3184,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3181,
                  "name": "self",
                  "nodeType": "VariableDeclaration",
                  "scope": 3197,
                  "src": "3381:18:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.State"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3180,
                    "name": "State",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3064,
                    "src": "3381:5:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.State"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3183,
                  "name": "collateral",
                  "nodeType": "VariableDeclaration",
                  "scope": 3197,
                  "src": "3401:18:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3182,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3401:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3380:40:15"
            },
            "returnParameters": {
              "id": 3187,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3186,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3197,
                  "src": "3444:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3185,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3444:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3443:9:15"
            },
            "scope": 3380,
            "src": "3349:184:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3225,
              "nodeType": "Block",
              "src": "3968:163:15",
              "statements": [
                {
                  "assignments": [
                    3209
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3209,
                      "name": "exchangeRateIndex",
                      "nodeType": "VariableDeclaration",
                      "scope": 3225,
                      "src": "3974:25:15",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3208,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "3974:7:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3214,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3211,
                        "name": "self",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3199,
                        "src": "4009:4:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 3212,
                        "name": "timestamp",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3203,
                        "src": "4015:9:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 3210,
                      "name": "search",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3364,
                      "src": "4002:6:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_struct$_State_$3064_storage_ptr_$_t_uint256_$returns$_t_uint256_$",
                        "typeString": "function (struct ExchangeRateTracker.State storage pointer,uint256) view returns (uint256)"
                      }
                    },
                    "id": 3213,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4002:23:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "3974:51:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3217,
                        "name": "tokens",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3201,
                        "src": "4067:6:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 3218,
                              "name": "self",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3199,
                              "src": "4075:4:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                                "typeString": "struct ExchangeRateTracker.State storage pointer"
                              }
                            },
                            "id": 3219,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "exchangeRates",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3063,
                            "src": "4075:18:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                              "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                            }
                          },
                          "id": 3221,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 3220,
                            "name": "exchangeRateIndex",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3209,
                            "src": "4094:17:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "4075:37:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_ExchangeRate_$3060_storage",
                            "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref"
                          }
                        },
                        "id": 3222,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "exchangeRate",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3059,
                        "src": "4075:50:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Fixed18_$3392_storage",
                          "typeString": "struct FixedPoint.Fixed18 storage ref"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_struct$_Fixed18_$3392_storage",
                          "typeString": "struct FixedPoint.Fixed18 storage ref"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3215,
                        "name": "FixedPoint",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3488,
                        "src": "4038:10:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_FixedPoint_$3488_$",
                          "typeString": "type(library FixedPoint)"
                        }
                      },
                      "id": 3216,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "divideUintByFixed",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3461,
                      "src": "4038:28:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_delegatecall_view$_t_uint256_$_t_struct$_Fixed18_$3392_storage_ptr_$returns$_t_uint256_$",
                        "typeString": "function (uint256,struct FixedPoint.Fixed18 storage pointer) view returns (uint256)"
                      }
                    },
                    "id": 3223,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4038:88:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 3207,
                  "id": 3224,
                  "nodeType": "Return",
                  "src": "4031:95:15"
                }
              ]
            },
            "documentation": "Calculates the collateral value of the given token amount in the past.\n   * @param self The State struct\n@param tokens The token amount\n@param timestamp The timestamp of the rate to use for conversion\n@return The collateral value of the given tokens at the given timestamp",
            "id": 3226,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "tokenToCollateralValueAt",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3204,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3199,
                  "name": "self",
                  "nodeType": "VariableDeclaration",
                  "scope": 3226,
                  "src": "3881:18:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.State"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3198,
                    "name": "State",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3064,
                    "src": "3881:5:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.State"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3201,
                  "name": "tokens",
                  "nodeType": "VariableDeclaration",
                  "scope": 3226,
                  "src": "3901:14:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3200,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3901:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3203,
                  "name": "timestamp",
                  "nodeType": "VariableDeclaration",
                  "scope": 3226,
                  "src": "3917:17:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3202,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3917:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3880:55:15"
            },
            "returnParameters": {
              "id": 3207,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3206,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3226,
                  "src": "3959:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3205,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3959:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3958:9:15"
            },
            "scope": 3380,
            "src": "3847:284:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3254,
              "nodeType": "Block",
              "src": "4578:162:15",
              "statements": [
                {
                  "assignments": [
                    3238
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3238,
                      "name": "exchangeRateIndex",
                      "nodeType": "VariableDeclaration",
                      "scope": 3254,
                      "src": "4584:25:15",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3237,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4584:7:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3243,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3240,
                        "name": "self",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3228,
                        "src": "4619:4:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 3241,
                        "name": "timestamp",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3232,
                        "src": "4625:9:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 3239,
                      "name": "search",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3364,
                      "src": "4612:6:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_struct$_State_$3064_storage_ptr_$_t_uint256_$returns$_t_uint256_$",
                        "typeString": "function (struct ExchangeRateTracker.State storage pointer,uint256) view returns (uint256)"
                      }
                    },
                    "id": 3242,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4612:23:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4584:51:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 3246,
                              "name": "self",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3228,
                              "src": "4672:4:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                                "typeString": "struct ExchangeRateTracker.State storage pointer"
                              }
                            },
                            "id": 3247,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "exchangeRates",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3063,
                            "src": "4672:18:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                              "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                            }
                          },
                          "id": 3249,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 3248,
                            "name": "exchangeRateIndex",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3238,
                            "src": "4691:17:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "4672:37:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_ExchangeRate_$3060_storage",
                            "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref"
                          }
                        },
                        "id": 3250,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "exchangeRate",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3059,
                        "src": "4672:50:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Fixed18_$3392_storage",
                          "typeString": "struct FixedPoint.Fixed18 storage ref"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 3251,
                        "name": "collateral",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3230,
                        "src": "4724:10:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Fixed18_$3392_storage",
                          "typeString": "struct FixedPoint.Fixed18 storage ref"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3244,
                        "name": "FixedPoint",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3488,
                        "src": "4648:10:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_FixedPoint_$3488_$",
                          "typeString": "type(library FixedPoint)"
                        }
                      },
                      "id": 3245,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "multiplyUint",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3445,
                      "src": "4648:23:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_delegatecall_view$_t_struct$_Fixed18_$3392_storage_ptr_$_t_uint256_$returns$_t_uint256_$",
                        "typeString": "function (struct FixedPoint.Fixed18 storage pointer,uint256) view returns (uint256)"
                      }
                    },
                    "id": 3252,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4648:87:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 3236,
                  "id": 3253,
                  "nodeType": "Return",
                  "src": "4641:94:15"
                }
              ]
            },
            "documentation": "Calculates the token value of the given collateral amount in the past.\n   * @param self The State struct\n@param collateral The collateral amount\n@param timestamp The timestamp of the rate to use for conversion\n@return The token value of the given collateral at the given timestamp",
            "id": 3255,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "collateralToTokenValueAt",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3233,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3228,
                  "name": "self",
                  "nodeType": "VariableDeclaration",
                  "scope": 3255,
                  "src": "4487:18:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.State"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3227,
                    "name": "State",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3064,
                    "src": "4487:5:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.State"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3230,
                  "name": "collateral",
                  "nodeType": "VariableDeclaration",
                  "scope": 3255,
                  "src": "4507:18:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3229,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4507:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3232,
                  "name": "timestamp",
                  "nodeType": "VariableDeclaration",
                  "scope": 3255,
                  "src": "4527:17:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3231,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4527:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "4486:59:15"
            },
            "returnParameters": {
              "id": 3236,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3235,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3255,
                  "src": "4569:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3234,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4569:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "4568:9:15"
            },
            "scope": 3380,
            "src": "4453:287:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3277,
              "nodeType": "Block",
              "src": "5109:116:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3263,
                        "name": "self",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3257,
                        "src": "5131:4:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      ],
                      "id": 3262,
                      "name": "wasInitialized",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3379,
                      "src": "5116:14:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_struct$_State_$3064_storage_ptr_$returns$__$",
                        "typeString": "function (struct ExchangeRateTracker.State storage pointer) view"
                      }
                    },
                    "id": 3264,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5116:20:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3265,
                  "nodeType": "ExpressionStatement",
                  "src": "5116:20:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 3266,
                            "name": "self",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3257,
                            "src": "5149:4:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                              "typeString": "struct ExchangeRateTracker.State storage pointer"
                            }
                          },
                          "id": 3267,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "exchangeRates",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 3063,
                          "src": "5149:18:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                            "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                          }
                        },
                        "id": 3273,
                        "indexExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3272,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 3268,
                                "name": "self",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3257,
                                "src": "5168:4:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                                  "typeString": "struct ExchangeRateTracker.State storage pointer"
                                }
                              },
                              "id": 3269,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "exchangeRates",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 3063,
                              "src": "5168:18:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                                "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                              }
                            },
                            "id": 3270,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": null,
                            "src": "5168:25:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "-",
                          "rightExpression": {
                            "argumentTypes": null,
                            "hexValue": "31",
                            "id": 3271,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "5196:1:15",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_1_by_1",
                              "typeString": "int_const 1"
                            },
                            "value": "1"
                          },
                          "src": "5168:29:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "5149:49:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_ExchangeRate_$3060_storage",
                          "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref"
                        }
                      },
                      "id": 3274,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "exchangeRate",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3059,
                      "src": "5149:62:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Fixed18_$3392_storage",
                        "typeString": "struct FixedPoint.Fixed18 storage ref"
                      }
                    },
                    "id": 3275,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "mantissa",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3391,
                    "src": "5149:71:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 3261,
                  "id": 3276,
                  "nodeType": "Return",
                  "src": "5142:78:15"
                }
              ]
            },
            "documentation": "Returns the current exchange rate mantissa as a fixed point 18 number (ie Ether).\n   * For example, an exchange rate of 0.5 would be represented as 500000000000000000\n   * @param self The State struct\n@return The current exchange rate mantissa",
            "id": 3278,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "currentExchangeRateMantissa",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3258,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3257,
                  "name": "self",
                  "nodeType": "VariableDeclaration",
                  "scope": 3278,
                  "src": "5057:18:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.State"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3256,
                    "name": "State",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3064,
                    "src": "5057:5:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.State"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "5056:20:15"
            },
            "returnParameters": {
              "id": 3261,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3260,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3278,
                  "src": "5100:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3259,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5100:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "5099:9:15"
            },
            "scope": 3380,
            "src": "5020:205:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3299,
              "nodeType": "Block",
              "src": "5520:106:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3286,
                        "name": "self",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3280,
                        "src": "5541:4:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      ],
                      "id": 3285,
                      "name": "wasInitialized",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3379,
                      "src": "5526:14:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_struct$_State_$3064_storage_ptr_$returns$__$",
                        "typeString": "function (struct ExchangeRateTracker.State storage pointer) view"
                      }
                    },
                    "id": 3287,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5526:20:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3288,
                  "nodeType": "ExpressionStatement",
                  "src": "5526:20:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "baseExpression": {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3289,
                          "name": "self",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3280,
                          "src": "5559:4:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                            "typeString": "struct ExchangeRateTracker.State storage pointer"
                          }
                        },
                        "id": 3290,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "exchangeRates",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3063,
                        "src": "5559:18:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                          "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                        }
                      },
                      "id": 3296,
                      "indexExpression": {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 3295,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 3291,
                              "name": "self",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3280,
                              "src": "5578:4:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                                "typeString": "struct ExchangeRateTracker.State storage pointer"
                              }
                            },
                            "id": 3292,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "exchangeRates",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3063,
                            "src": "5578:18:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                              "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                            }
                          },
                          "id": 3293,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "5578:25:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "-",
                        "rightExpression": {
                          "argumentTypes": null,
                          "hexValue": "31",
                          "id": 3294,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "5606:1:15",
                          "subdenomination": null,
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_1_by_1",
                            "typeString": "int_const 1"
                          },
                          "value": "1"
                        },
                        "src": "5578:29:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "IndexAccess",
                      "src": "5559:49:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_ExchangeRate_$3060_storage",
                        "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref"
                      }
                    },
                    "id": 3297,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "exchangeRate",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3059,
                    "src": "5559:62:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Fixed18_$3392_storage",
                      "typeString": "struct FixedPoint.Fixed18 storage ref"
                    }
                  },
                  "functionReturnParameters": 3284,
                  "id": 3298,
                  "nodeType": "Return",
                  "src": "5552:69:15"
                }
              ]
            },
            "documentation": "Returns the current exchange rate as a FixedPoint.Fixed18 struct\n   * @param self The State struct\n@return The current exchange rate as a FixedPoint.Fixed18 struct",
            "id": 3300,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "currentExchangeRate",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3281,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3280,
                  "name": "self",
                  "nodeType": "VariableDeclaration",
                  "scope": 3300,
                  "src": "5449:18:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.State"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3279,
                    "name": "State",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3064,
                    "src": "5449:5:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.State"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "5448:20:15"
            },
            "returnParameters": {
              "id": 3284,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3283,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3300,
                  "src": "5492:26:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Fixed18_$3392_storage_ptr",
                    "typeString": "struct FixedPoint.Fixed18"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3282,
                    "name": "FixedPoint.Fixed18",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3392,
                    "src": "5492:18:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Fixed18_$3392_storage_ptr",
                      "typeString": "struct FixedPoint.Fixed18"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "5491:28:15"
            },
            "scope": 3380,
            "src": "5420:206:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3363,
              "nodeType": "Block",
              "src": "6109:420:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3310,
                        "name": "self",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3302,
                        "src": "6130:4:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      ],
                      "id": 3309,
                      "name": "wasInitialized",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3379,
                      "src": "6115:14:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_struct$_State_$3064_storage_ptr_$returns$__$",
                        "typeString": "function (struct ExchangeRateTracker.State storage pointer) view"
                      }
                    },
                    "id": 3311,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6115:20:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3312,
                  "nodeType": "ExpressionStatement",
                  "src": "6115:20:15"
                },
                {
                  "assignments": [
                    3314
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3314,
                      "name": "lowerBound",
                      "nodeType": "VariableDeclaration",
                      "scope": 3363,
                      "src": "6142:18:15",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3313,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "6142:7:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3316,
                  "initialValue": {
                    "argumentTypes": null,
                    "hexValue": "30",
                    "id": 3315,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": true,
                    "kind": "number",
                    "lValueRequested": false,
                    "nodeType": "Literal",
                    "src": "6163:1:15",
                    "subdenomination": null,
                    "typeDescriptions": {
                      "typeIdentifier": "t_rational_0_by_1",
                      "typeString": "int_const 0"
                    },
                    "value": "0"
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "6142:22:15"
                },
                {
                  "assignments": [
                    3318
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3318,
                      "name": "upperBound",
                      "nodeType": "VariableDeclaration",
                      "scope": 3363,
                      "src": "6170:18:15",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3317,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "6170:7:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3322,
                  "initialValue": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3319,
                        "name": "self",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3302,
                        "src": "6191:4:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                          "typeString": "struct ExchangeRateTracker.State storage pointer"
                        }
                      },
                      "id": 3320,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "exchangeRates",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3063,
                      "src": "6191:18:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                        "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                      }
                    },
                    "id": 3321,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "length",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": null,
                    "src": "6191:25:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "6170:46:15"
                },
                {
                  "body": {
                    "id": 3357,
                    "nodeType": "Block",
                    "src": "6259:238:15",
                    "statements": [
                      {
                        "assignments": [
                          3329
                        ],
                        "declarations": [
                          {
                            "constant": false,
                            "id": 3329,
                            "name": "midPoint",
                            "nodeType": "VariableDeclaration",
                            "scope": 3357,
                            "src": "6269:16:15",
                            "stateVariable": false,
                            "storageLocation": "default",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "typeName": {
                              "id": 3328,
                              "name": "uint256",
                              "nodeType": "ElementaryTypeName",
                              "src": "6269:7:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "value": null,
                            "visibility": "internal"
                          }
                        ],
                        "id": 3338,
                        "initialValue": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3337,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 3330,
                            "name": "lowerBound",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3314,
                            "src": "6288:10:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "+",
                          "rightExpression": {
                            "argumentTypes": null,
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 3336,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "argumentTypes": null,
                              "components": [
                                {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "id": 3333,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "argumentTypes": null,
                                    "id": 3331,
                                    "name": "upperBound",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 3318,
                                    "src": "6302:10:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": "-",
                                  "rightExpression": {
                                    "argumentTypes": null,
                                    "id": 3332,
                                    "name": "lowerBound",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 3314,
                                    "src": "6315:10:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "src": "6302:23:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                }
                              ],
                              "id": 3334,
                              "isConstant": false,
                              "isInlineArray": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "TupleExpression",
                              "src": "6301:25:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "/",
                            "rightExpression": {
                              "argumentTypes": null,
                              "hexValue": "32",
                              "id": 3335,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "6329:1:15",
                              "subdenomination": null,
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_2_by_1",
                                "typeString": "int_const 2"
                              },
                              "value": "2"
                            },
                            "src": "6301:29:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "6288:42:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "VariableDeclarationStatement",
                        "src": "6269:61:15"
                      },
                      {
                        "condition": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3345,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 3339,
                            "name": "timestamp",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3304,
                            "src": "6345:9:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<",
                          "rightExpression": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "baseExpression": {
                                "argumentTypes": null,
                                "expression": {
                                  "argumentTypes": null,
                                  "id": 3340,
                                  "name": "self",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3302,
                                  "src": "6357:4:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                                    "typeString": "struct ExchangeRateTracker.State storage pointer"
                                  }
                                },
                                "id": 3341,
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "memberName": "exchangeRates",
                                "nodeType": "MemberAccess",
                                "referencedDeclaration": 3063,
                                "src": "6357:18:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                                  "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                                }
                              },
                              "id": 3343,
                              "indexExpression": {
                                "argumentTypes": null,
                                "id": 3342,
                                "name": "midPoint",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3329,
                                "src": "6376:8:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "IndexAccess",
                              "src": "6357:28:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_ExchangeRate_$3060_storage",
                                "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref"
                              }
                            },
                            "id": 3344,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "timestamp",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3057,
                            "src": "6357:38:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "6345:50:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "falseBody": {
                          "id": 3355,
                          "nodeType": "Block",
                          "src": "6447:44:15",
                          "statements": [
                            {
                              "expression": {
                                "argumentTypes": null,
                                "id": 3353,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftHandSide": {
                                  "argumentTypes": null,
                                  "id": 3351,
                                  "name": "lowerBound",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3314,
                                  "src": "6459:10:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "nodeType": "Assignment",
                                "operator": "=",
                                "rightHandSide": {
                                  "argumentTypes": null,
                                  "id": 3352,
                                  "name": "midPoint",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3329,
                                  "src": "6472:8:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "src": "6459:21:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 3354,
                              "nodeType": "ExpressionStatement",
                              "src": "6459:21:15"
                            }
                          ]
                        },
                        "id": 3356,
                        "nodeType": "IfStatement",
                        "src": "6341:150:15",
                        "trueBody": {
                          "id": 3350,
                          "nodeType": "Block",
                          "src": "6397:44:15",
                          "statements": [
                            {
                              "expression": {
                                "argumentTypes": null,
                                "id": 3348,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftHandSide": {
                                  "argumentTypes": null,
                                  "id": 3346,
                                  "name": "upperBound",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3318,
                                  "src": "6409:10:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "nodeType": "Assignment",
                                "operator": "=",
                                "rightHandSide": {
                                  "argumentTypes": null,
                                  "id": 3347,
                                  "name": "midPoint",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3329,
                                  "src": "6422:8:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "src": "6409:21:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 3349,
                              "nodeType": "ExpressionStatement",
                              "src": "6409:21:15"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "condition": {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3327,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "id": 3323,
                      "name": "lowerBound",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3314,
                      "src": "6230:10:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "argumentTypes": null,
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 3326,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "argumentTypes": null,
                        "id": 3324,
                        "name": "upperBound",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3318,
                        "src": "6243:10:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "-",
                      "rightExpression": {
                        "argumentTypes": null,
                        "hexValue": "31",
                        "id": 3325,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "6256:1:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_1_by_1",
                          "typeString": "int_const 1"
                        },
                        "value": "1"
                      },
                      "src": "6243:14:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6230:27:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 3358,
                  "nodeType": "WhileStatement",
                  "src": "6223:274:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3361,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "id": 3359,
                      "name": "upperBound",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3318,
                      "src": "6510:10:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "-",
                    "rightExpression": {
                      "argumentTypes": null,
                      "hexValue": "31",
                      "id": 3360,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "6523:1:15",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_1_by_1",
                        "typeString": "int_const 1"
                      },
                      "value": "1"
                    },
                    "src": "6510:14:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 3308,
                  "id": 3362,
                  "nodeType": "Return",
                  "src": "6503:21:15"
                }
              ]
            },
            "documentation": "Searches for the historic exchange rate at the given timestamp.\n   * The algorithm will return the index of the *last* exchange rate whose timestamp is less than or equal to the given timestamp.\n   * @param self The State struct\n@param timestamp The timestamp to search for\n@return The index of the exchange rate that was in effect at the given timestamp",
            "id": 3364,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "search",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3305,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3302,
                  "name": "self",
                  "nodeType": "VariableDeclaration",
                  "scope": 3364,
                  "src": "6038:18:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.State"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3301,
                    "name": "State",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3064,
                    "src": "6038:5:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.State"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3304,
                  "name": "timestamp",
                  "nodeType": "VariableDeclaration",
                  "scope": 3364,
                  "src": "6058:17:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3303,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6058:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "6037:39:15"
            },
            "returnParameters": {
              "id": 3308,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3307,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3364,
                  "src": "6100:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3306,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6100:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "6099:9:15"
            },
            "scope": 3380,
            "src": "6022:507:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3378,
              "nodeType": "Block",
              "src": "6591:81:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 3374,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 3370,
                              "name": "self",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3366,
                              "src": "6605:4:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                                "typeString": "struct ExchangeRateTracker.State storage pointer"
                              }
                            },
                            "id": 3371,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "exchangeRates",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3063,
                            "src": "6605:18:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_struct$_ExchangeRate_$3060_storage_$dyn_storage",
                              "typeString": "struct ExchangeRateTracker.ExchangeRate storage ref[] storage ref"
                            }
                          },
                          "id": 3372,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "6605:25:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": ">",
                        "rightExpression": {
                          "argumentTypes": null,
                          "hexValue": "30",
                          "id": 3373,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "6633:1:15",
                          "subdenomination": null,
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          },
                          "value": "0"
                        },
                        "src": "6605:29:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "45786368616e676552617465547261636b65722f6e6f742d696e6974",
                        "id": 3375,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "6636:30:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_e735c8081f23525f5a434445eec927b198b4bf1397a0a0073440a850b10eff9a",
                          "typeString": "literal_string \"ExchangeRateTracker/not-init\""
                        },
                        "value": "ExchangeRateTracker/not-init"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_e735c8081f23525f5a434445eec927b198b4bf1397a0a0073440a850b10eff9a",
                          "typeString": "literal_string \"ExchangeRateTracker/not-init\""
                        }
                      ],
                      "id": 3369,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        11769,
                        11770
                      ],
                      "referencedDeclaration": 11770,
                      "src": "6597:7:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3376,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6597:70:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3377,
                  "nodeType": "ExpressionStatement",
                  "src": "6597:70:15"
                }
              ]
            },
            "documentation": null,
            "id": 3379,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "wasInitialized",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3367,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3366,
                  "name": "self",
                  "nodeType": "VariableDeclaration",
                  "scope": 3379,
                  "src": "6557:18:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                    "typeString": "struct ExchangeRateTracker.State"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3365,
                    "name": "State",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3064,
                    "src": "6557:5:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_State_$3064_storage_ptr",
                      "typeString": "struct ExchangeRateTracker.State"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "6556:20:15"
            },
            "returnParameters": {
              "id": 3368,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "6591:0:15"
            },
            "scope": 3380,
            "src": "6533:139:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "internal"
          }
        ],
        "scope": 3381,
        "src": "908:5766:15"
      }
    ],
    "src": "650:6025:15"
  },
  "bytecode": "0x60556023600b82828239805160001a607314601657fe5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea265627a7a72315820826203b789de912898a74a654249e6b355ffdaf951804a4e6f72ecb99334a64764736f6c634300050c0032",
  "deployedBytecode": "0x73000000000000000000000000000000000000000030146080604052600080fdfea265627a7a72315820826203b789de912898a74a654249e6b355ffdaf951804a4e6f72ecb99334a64764736f6c634300050c0032",
  "compiler": {
    "name": "solc",
    "version": "0.5.12+commit.7709ece9.Emscripten.clang",
    "optimizer": {
      "enabled": true,
      "runs": 200
    },
    "evmVersion": "petersburg"
  }
}
